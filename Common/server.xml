<server>
    <featureManager>
	    <feature>localConnector-1.0</feature>
	    <feature>jsp-2.3</feature>
        <feature>jpa-2.0</feature>
        <feature>jaxrs-1.1</feature>
        <feature>servlet-3.1</feature>
        <feature>jdbc-4.1</feature>
        <feature>ejbLite-3.1</feature>
        <feature>appSecurity-2.0</feature>
        <feature>ldapRegistry-3.0</feature>
    </featureManager>
    
    <authData id="localhostNode01/DBUser" password="{xor}Oz1tNjEsK25yLyg7" user="db2inst1"/>
    <jdbcDriver id="DB2_Using_IBM_JCC_Driver_(XA)" javax.sql.DataSource="com.ibm.db2.jcc.DB2XADataSource">
        <library>
            <file name="${env.DB2_JARS}/db2jcc4.jar"/>
            <file name="${env.DB2_JARS}/db2jcc_license_cu.jar"/>
            <file name="${env.DB2_JARS}/db2jcc_license_cisuz.jar"/>
        </library>
    </jdbcDriver>
    <dataSource id="OrderDS" jdbcDriverRef="DB2_Using_IBM_JCC_Driver_(XA)" jndiName="jdbc/orderds">
		<properties.db2.jcc  user="${env.DB2_USER_ORDER}" password="${env.DB2_PASSWORD_ORDER}" databaseName="${env.DB2_DBNAME_ORDER}" serverName="${env.DB2_HOST_ORDER}" portNumber="${env.DB2_PORT_ORDER}"/>
        <connectionManager agedTimeout="0" connectionTimeout="180" maxIdleTime="1800" maxPoolSize="10" minPoolSize="1" reapTime="180"/>
    </dataSource>
    <dataSource id="INDS" jdbcDriverRef="DB2_Using_IBM_JCC_Driver_(XA)" jndiName="jdbc/inds">
		<properties.db2.jcc  user="${env.DB2_USER_INVENTORY}" password="${env.DB2_PASSWORD_INVENTORY}" databaseName="${env.DB2_DBNAME_INVENTORY}" serverName="${env.DB2_HOST_INVENTORY}" portNumber="${env.DB2_PORT_INVENTORY}"/>
        <connectionManager agedTimeout="0" connectionTimeout="180" maxIdleTime="1800" maxPoolSize="10" minPoolSize="1" reapTime="180"/>
    </dataSource>
    <httpEndpoint host="*" httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint">
      <tcpOptions soReuseAddr="true"/>
  	</httpEndpoint>

    <keyStore id="defaultKeyStore" password="${env.KEYSTORE_PASSWORD}"/>

    <ldapRegistry id="ldap" host="${env.LDAP_HOST}" port="${env.LDAP_PORT}" baseDN="${env.LDAP_BASE_DN}" bindDN="${env.LDAP_BIND_DN}" bindPassword="${env.LDAP_BIND_PASSWORD}" realm="${env.LDAP_REALM}" ignoreCase="true" ldapType="IBM Tivoli Directory Server">
    	<idsFilters groupFilter="(&amp;(cn=%v)(objectclass=groupOfUniqueNames))" groupIdMap="*:cn" groupMemberIdMap="mycompany-allGroups:member;mycompany-allGroups:uniqueMember;groupOfNames:member;groupOfUniqueNames:uniqueMember" userFilter="(&amp;(uid=%v)(objectclass=inetorgperson))" userIdMap="*:uid">
    	</idsFilters>
	</ldapRegistry>

    <applicationMonitor updateTrigger="mbean"/>

    <enterpriseApplication id="CustomerOrderServicesApp" location="CustomerOrderServicesApp.ear" name="CustomerOrderServicesApp"/>
</server>
